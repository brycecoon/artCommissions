@page "/test"
@using ArtCommissions.Data;
@using Microsoft.EntityFrameworkCore;
@using System.Drawing;

@inject IDbContextFactory<PostgresContext> contextFactory

<h3>Component</h3>

@if (imageBytes != null)
{
    <img src="data:image/jpeg;base64,@Convert.ToBase64String(imageBytes)" alt="Test Image" />
}
else
{
    <p>No image</p>
}


@code {
    private byte[] imageBytes { get; set; } = null;

    protected override async Task OnInitializedAsync()
    {
        var context = contextFactory.CreateDbContext();

        var art = await context.ExampleArts
            .FirstOrDefaultAsync(i => i.Id == 1);
        imageBytes = art.Image;
    }
}